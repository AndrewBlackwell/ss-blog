<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Andrew Blackwell - Senior Seminar Blog</title>
    <style>
      :root {
        --accent-hue: 90;
        --bg: hsl(var(--accent-hue), 20%, 8%);
        --fg: hsl(var(--accent-hue), 60%, 85%);
        --muted: hsl(var(--accent-hue), 40%, 60%);
        --accent: hsl(var(--accent-hue), 80%, 60%);
        --line: hsl(var(--accent-hue), 30%, 20%);
        --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", monospace;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100vh;
        margin: 0;
        background: var(--bg);
        color: var(--fg);
        font: 13px/1.45 var(--mono);
        display: flex;
        flex-direction: column;
      }
      #app {
        height: 100vh;
        display: flex;
        flex-direction: column;
      }
      .bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 6px 10px;
        border-bottom: 1px solid var(--line);
        background: var(--bg);
      }
      .layout {
        display: grid;
        gap: 10px;
        padding: 10px;
        flex: 1;
        grid-template-columns: 1fr 1fr;
        height: 100%;
      }
      .pane {
        border: 1px solid var(--line);
        background: var(--bg);
        border-radius: 4px;
        min-height: 0;
        display: flex;
        flex-direction: column;
      }
      .pane-title {
        padding: 6px 8px;
        color: var(--muted);
        border-bottom: 1px solid var(--line);
        background: var(--bg);
      }
      .list {
        list-style: none;
        margin: 0;
        padding: 0;
        overflow: auto;
        flex: 1;
      }
      .row {
        display: grid;
        grid-template-columns: auto 1fr auto;
        gap: 8px;
        align-items: center;
        padding: 6px 8px;
      }
      .row[aria-selected="true"] {
        background: hsl(var(--accent-hue), 30%, 15%);
        outline: 1px solid var(--accent);
      }
      .row .dot {
        width: 1ch;
        color: var(--muted);
      }
      .row .name {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .row .date {
        color: var(--muted);
      }
      .about {
        display: flex;
        gap: 10px;
        padding: 8px;
      }
      .ph {
        width: 96px;
        height: 96px;
        border: 1px solid var(--line);
        border-radius: 3px;
        background: hsl(var(--accent-hue), 30%, 15%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--muted);
      }
      .keys {
        padding: 6px 10px;
        border-top: 1px solid var(--line);
        background: var(--bg);
        color: var(--muted);
      }

      .reader {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.6);
      }
      .reader[aria-hidden="false"] {
        display: flex;
      }
      .frame {
        width: min(840px, 92vw);
        max-height: 86vh;
        display: flex;
        flex-direction: column;
        border: 1px solid var(--line);
        border-radius: 4px;
        background: hsl(var(--accent-hue), 20%, 10%);
      }
      .rtop {
        display: flex;
        justify-content: space-between;
        gap: 8px;
        padding: 8px 10px;
        border-bottom: 1px solid var(--line);
        background: hsl(var(--accent-hue), 25%, 12%);
      }
      .rtitle {
        color: var(--accent);
        font-weight: 700;
      }
      .rdate {
        color: var(--muted);
      }
      .rbody {
        padding: 10px;
        overflow: auto;
      }
      @media (max-width: 820px) {
        .layout {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div class="bar">
        <div>Andrew Blackwell - CS4100-101 Senior Seminar Blog - Fall 2025</div>
        <div id="clock"></div>
      </div>

      <div class="layout">
        <section class="pane" aria-label="Blog entries">
          <div class="pane-title">blog entries</div>
          <ul id="post-list" class="list" role="listbox"></ul>
        </section>
        <section class="pane" aria-label="About">
          <div class="pane-title">about, controls</div>
          <div class="about">
            <div class="ph">
              <img
                src="pfp.jpg"
                alt="Profile photo"
                style="
                  width: 96px;
                  height: 96px;
                  border-radius: 3px;
                  object-fit: cover;
                "
              />
            </div>
            <div>
              <div
                style="
                  color: var(--accent);
                  font-weight: 700;
                  margin-bottom: 4px;
                "
              >
                Andrew Blackwell
              </div>
              <p>CS + Math @ App State. HPC, GPU, Systems.</p>
              <p>
                <b>Controls</b>: ↑/↓ select, 'Enter' to open, 'Backspace' to
                close.
              </p>
            </div>
          </div>
        </section>
      </div>
    </div>
    <!-- overlay reader -->
    <div id="reader" class="reader" aria-hidden="true">
      <div class="frame">
        <div class="rtop">
          <div class="rtitle" id="rTitle"></div>
          <div class="rdate" id="rDate"></div>
        </div>
        <article id="rBody" class="rbody"></article>
      </div>
    </div>

    <script>
      /* =============== POSTS =============== */
      const posts = [
        {
          title: "Hello, senior seminar",
          date: "2025-08-19",
          html: `<h2>Welcome</h2><p>Minimal single-file TUI blog. Arrow keys + Enter to read; Backspace to close.</p>`,
        },
        {
          title: "Week 2 — Logic Notes",
          date: "2025-08-26",
          html: `<h2>Logic as Language</h2><p>Primitive recursion on <code>N</code>: <code>x+0=x</code>, <code>x+succ(y)=succ(x+y)</code>.</p>`,
        },
      ];
      /* ===================================== */

      const els = {
        list: document.getElementById("post-list"),
        reader: document.getElementById("reader"),
        rTitle: document.getElementById("rTitle"),
        rDate: document.getElementById("rDate"),
        rBody: document.getElementById("rBody"),
        clock: document.getElementById("clock"),
      };
      let sel = 0,
        open = false;

      function fmt(d) {
        try {
          return new Date(d + "T00:00:00").toLocaleDateString(undefined, {
            year: "numeric",
            month: "short",
            day: "2-digit",
          });
        } catch {
          return d;
        }
      }
      function tick() {
        els.clock.textContent = new Date().toLocaleString();
      }
      setInterval(tick, 1000);
      tick();

      function render() {
        els.list.innerHTML = "";
        posts.forEach((p, i) => {
          const li = document.createElement("li");
          li.className = "row";
          li.setAttribute("aria-selected", i === sel ? "true" : "false");
          li.innerHTML = `<span class="dot">${
            i === sel ? "▸" : "•"
          }</span><span class="name">${p.title}</span><span class="date">${fmt(
            p.date
          )}</span>`;
          li.onclick = () => {
            sel = i;
            render();
            show(p);
          };
          els.list.appendChild(li);
        });
      }
      function move(d) {
        sel = (sel + d + posts.length) % posts.length;
        render();
      }
      function show(p) {
        els.rTitle.textContent = p.title;
        els.rDate.textContent = fmt(p.date);
        els.rBody.innerHTML = p.html;
        els.reader.setAttribute("aria-hidden", "false");
        open = true;
      }
      function hide() {
        els.reader.setAttribute("aria-hidden", "true");
        open = false;
      }

      document.addEventListener("keydown", (e) => {
        switch (e.key) {
          case "ArrowDown":
            move(1);
            break;
          case "ArrowUp":
            move(-1);
            break;
          case "Enter":
            show(posts[sel]);
            break;
          case "Backspace":
            if (open) {
              e.preventDefault();
              hide();
            }
            break;
        }
      });
      render();
    </script>
  </body>
</html>
